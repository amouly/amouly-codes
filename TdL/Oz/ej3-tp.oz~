fun {ConstruirCompuerta F}
   fun {$ Xs Ys}
      fun {CicloCompuerta Xs Ys}
	 case Xs#Ys of (X|Xr)#(Y|Yr) then
	    {F X Y}|{CicloCompuerta Xr Yr}
	 end
      end
   in
      thread {CicloCompuerta Xs Ys} end
   end
end


CAnd ={ ConstruirCompuerta fun {$ X Y} X*Y end }
COr ={ ConstruirCompuerta fun {$ X Y} X+Y-X*Y end }
CNand={ ConstruirCompuerta fun {$ X Y} 1-X*Y end }
CNor ={ ConstruirCompuerta fun {$ X Y} 1-X-Y+X*Y end }
CXor ={ ConstruirCompuerta fun {$ X Y} X+Y-2*X*Y end }

proc {SumadorCompleto X Y Z ?C ?S}
   K L M
in
   K={CAnd X Y}
   L={CAnd Y Z}
   M={CAnd X Z}
   C={COr K {COr L M}}
   S={CXor Z {CXor X Y}}
end

declare
X=1|1|0|_
Y=0|1|0|_
Z=1|1|1|_ C S in
{SumadorCompleto X Y Z C S}
{Browse ent(X Y Z)#suma(C S)}
